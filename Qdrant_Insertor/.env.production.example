# =============================================================================
# 生产环境配置示例
# =============================================================================
# 复制此文件为 .env.production 并根据您的生产环境修改配置值
# 注意：生产环境需要设置强密码和安全配置
# =============================================================================

# =============================================================================
# 应用基础配置
# =============================================================================

# 应用运行环境
NODE_ENV=production

# 服务器端口
PORT=3000

# =============================================================================
# 数据库配置
# =============================================================================

# SQLite 数据库文件路径（生产环境）
DATABASE_PATH=/var/data/qdrant-rag/app.db

# 数据库连接池配置（生产环境较大）
DB_CONNECTION_LIMIT=20
DB_CONNECTION_TIMEOUT=30000

# =============================================================================
# Qdrant 向量数据库配置
# =============================================================================

# Qdrant 服务地址（生产环境）
QDRANT_URL=http://qdrant:6333

# Qdrant 集合名称（生产环境）
QDRANT_COLLECTION_NAME=qdrant_rag_prod

# Qdrant API 密钥（生产环境必需）
QDRANT_API_KEY=your_production_qdrant_api_key

# =============================================================================
# OpenAI 配置
# =============================================================================

# OpenAI API 密钥（生产环境必需）
OPENAI_API_KEY=your_production_openai_api_key

# OpenAI API 基础 URL
OPENAI_BASE_URL=https://api.openai.com

# OpenAI 模型（生产环境使用更强大的模型）
OPENAI_MODEL=gpt-4

# =============================================================================
# 嵌入模型配置
# =============================================================================

# 嵌入模型
EMBEDDING_MODEL=text-embedding-ada-002

# 嵌入向量维度
EMBEDDING_DIM=1536

# 嵌入批次大小（生产环境较大）
EMBEDDING_BATCH_SIZE=200

# =============================================================================
# 日志配置（生产环境优化）
# =============================================================================

# 日志级别（生产环境只记录重要信息）
LOG_LEVEL=info

# 启用 traceID 功能
ENABLE_TRACE_ID=true

# 启用模块 TAG 功能
ENABLE_MODULE_TAG=true

# 启用性能日志功能
ENABLE_PERFORMANCE_LOGGING=true

# 慢查询阈值（生产环境较高）
LOG_SLOW_QUERIES_THRESHOLD=2000

# 启用文件日志
ENABLE_FILE_LOGGING=true

# 日志文件路径（生产环境）
LOG_FILE_PATH=/var/log/qdrant-rag/app.log

# 启用控制台日志（生产环境关闭）
ENABLE_CONSOLE_LOGGING=false

# 启用结构化日志（生产环境启用）
ENABLE_STRUCTURED_LOGGING=true

# 启用日志轮转
ENABLE_LOG_ROTATION=true

# 单个日志文件最大大小（生产环境较大）
MAX_LOG_FILE_SIZE=52428800

# 保留的日志文件数量（生产环境较少）
MAX_LOG_FILES=30

# 启用日志压缩
ENABLE_COMPRESSION=true

# 日志文件日期模式
DATE_PATTERN=YYYY-MM-DD

# 日志文件最大大小
MAX_SIZE=100m

# 日志文件保留时间（生产环境较长）
MAX_FILES=30d

# 启用压缩归档
ZIPPED_ARCHIVE=true

# =============================================================================
# 前端配置
# =============================================================================

# API 基础 URL（生产环境）
VITE_API_BASE_URL=https://api.yourdomain.com/api

# 应用标题
VITE_APP_TITLE=Qdrant MCP RAG

# 应用版本
VITE_APP_VERSION=1.0.0

# 功能开关（生产环境关闭调试）
VITE_ENABLE_DEBUG=false
VITE_ENABLE_ANALYTICS=true

# =============================================================================
# 安全配置（生产环境严格）
# =============================================================================

# JWT 密钥（生产环境必须使用强密钥）
JWT_SECRET=your_very_secure_jwt_secret_for_production

# JWT 过期时间（生产环境较短）
JWT_EXPIRES_IN=24h

# CORS 允许的源（生产环境限制域名）
CORS_ORIGIN=https://yourdomain.com

# =============================================================================
# 性能配置（生产环境优化）
# =============================================================================

# 最大并发请求数（生产环境较大）
MAX_CONCURRENT_REQUESTS=200

# 请求超时时间（生产环境适中）
REQUEST_TIMEOUT=30000

# 缓存过期时间（生产环境较长）
CACHE_TTL=7200

# =============================================================================
# 监控配置
# =============================================================================

# 启用健康检查
ENABLE_HEALTH_CHECK=true

# 健康检查间隔（生产环境适中）
HEALTH_CHECK_INTERVAL=30000

# 启用指标收集
ENABLE_METRICS=true

# 指标收集间隔（生产环境适中）
METRICS_INTERVAL=60000

# =============================================================================
# 生产环境特定配置
# =============================================================================

# 启用集群模式
ENABLE_CLUSTER=true

# 集群工作进程数
CLUSTER_WORKERS=0

# 启用 Graceful Shutdown
ENABLE_GRACEFUL_SHUTDOWN=true

# 关闭超时时间（毫秒）
SHUTDOWN_TIMEOUT=10000

# 启用内存监控
ENABLE_MEMORY_MONITORING=true

# 内存使用阈值（百分比）
MEMORY_THRESHOLD=80

# 启用 CPU 监控
ENABLE_CPU_MONITORING=true

# CPU 使用阈值（百分比）
CPU_THRESHOLD=80