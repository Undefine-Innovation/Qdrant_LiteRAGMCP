# =============================================================================
# 测试环境配置示例
# =============================================================================
# 复制此文件为 .env.test 并根据您的测试环境修改配置值
# 注意：测试环境使用虚拟配置以避免影响生产数据
# =============================================================================

# =============================================================================
# 应用基础配置
# =============================================================================

# 应用运行环境
NODE_ENV=test

# Jest 工作器 ID
JEST_WORKER_ID=1

# 服务器端口（测试环境使用随机端口）
PORT=0

# =============================================================================
# 数据库配置
# =============================================================================

# SQLite 数据库文件路径（测试环境使用内存数据库）
DATABASE_PATH=:memory:

# 数据库连接池配置（测试环境较小）
DB_CONNECTION_LIMIT=1
DB_CONNECTION_TIMEOUT=5000

# =============================================================================
# Qdrant 向量数据库配置
# =============================================================================

# Qdrant 服务地址（测试环境）
QDRANT_URL=http://localhost:6333

# Qdrant 集合名称（测试环境专用）
QDRANT_COLLECTION_NAME=test-collection

# =============================================================================
# OpenAI 配置
# =============================================================================

# OpenAI API 密钥（测试环境使用虚拟密钥）
OPENAI_API_KEY=test-key-for-integration-tests

# OpenAI API 基础 URL
OPENAI_BASE_URL=https://api.openai.com

# OpenAI 模型（测试环境使用快速模型）
OPENAI_MODEL=gpt-3.5-turbo

# =============================================================================
# 嵌入模型配置
# =============================================================================

# 嵌入模型
EMBEDDING_MODEL=text-embedding-ada-002

# 嵌入向量维度
EMBEDDING_DIM=1536

# 嵌入批次大小（测试环境较小）
EMBEDDING_BATCH_SIZE=10

# =============================================================================
# 日志配置（测试环境最小化）
# =============================================================================

# 日志级别（测试环境只记录错误）
LOG_LEVEL=error

# 启用 traceID 功能（测试环境关闭）
ENABLE_TRACE_ID=false

# 启用模块 TAG 功能（测试环境关闭）
ENABLE_MODULE_TAG=false

# 启用性能日志功能（测试环境关闭）
ENABLE_PERFORMANCE_LOGGING=false

# 慢查询阈值（测试环境不关心）
LOG_SLOW_QUERIES_THRESHOLD=10000

# 启用文件日志（测试环境关闭）
ENABLE_FILE_LOGGING=false

# 日志文件路径（测试环境不使用）
# LOG_FILE_PATH=./logs/test.log

# 启用控制台日志（测试环境最小化）
ENABLE_CONSOLE_LOGGING=true

# 启用结构化日志（测试环境关闭）
ENABLE_STRUCTURED_LOGGING=false

# 启用日志轮转（测试环境关闭）
ENABLE_LOG_ROTATION=false

# =============================================================================
# 前端配置
# =============================================================================

# API 基础 URL（测试环境）
VITE_API_BASE_URL=http://localhost:3000/api

# 应用标题
VITE_APP_TITLE=Qdrant MCP RAG (Test)

# 应用版本
VITE_APP_VERSION=1.0.0-test

# 功能开关（测试环境启用调试）
VITE_ENABLE_DEBUG=true
VITE_ENABLE_ANALYTICS=false

# =============================================================================
# 安全配置（测试环境宽松）
# =============================================================================

# JWT 密钥（测试环境使用固定密钥）
JWT_SECRET=test_jwt_secret_for_testing_only

# JWT 过期时间（测试环境较长）
JWT_EXPIRES_IN=24h

# CORS 允许的源（测试环境允许所有）
CORS_ORIGIN=*

# =============================================================================
# 性能配置（测试环境优化）
# =============================================================================

# 最大并发请求数（测试环境较小）
MAX_CONCURRENT_REQUESTS=10

# 请求超时时间（测试环境较短）
REQUEST_TIMEOUT=5000

# 缓存过期时间（测试环境禁用缓存）
CACHE_TTL=0

# =============================================================================
# 监控配置（测试环境最小化）
# =============================================================================

# 启用健康检查（测试环境关闭）
ENABLE_HEALTH_CHECK=false

# 健康检查间隔（测试环境不使用）
# HEALTH_CHECK_INTERVAL=30000

# 启用指标收集（测试环境关闭）
ENABLE_METRICS=false

# 指标收集间隔（测试环境不使用）
# METRICS_INTERVAL=60000

# =============================================================================
# 测试特定配置
# =============================================================================

# 测试超时时间（毫秒）
TEST_TIMEOUT=30000

# 测试数据库重置
TEST_DB_RESET=true

# 启用测试模式
ENABLE_TEST_MODE=true

# 测试数据清理间隔（毫秒）
TEST_CLEANUP_INTERVAL=60000

# 启用测试覆盖率
ENABLE_TEST_COVERAGE=true

# 测试覆盖率报告路径
TEST_COVERAGE_REPORT_PATH=./coverage

# 启用测试快照
ENABLE_TEST_SNAPSHOTS=true

# 测试快照路径
TEST_SNAPSHOT_PATH=./__tests__/snapshots

# 启用测试模拟
ENABLE_TEST_MOCKS=true

# 测试模拟路径
TEST_MOCK_PATH=./__tests__/mocks

# 启用测试夹具
ENABLE_TEST_FIXTURES=true

# 测试夹具路径
TEST_FIXTURE_PATH=./__tests__/fixtures

# 启用测试数据生成
ENABLE_TEST_DATA_GENERATION=true

# 测试数据生成路径
TEST_DATA_GENERATION_PATH=./__tests__/data

# 启用测试并行执行
ENABLE_TEST_PARALLEL=true

# 测试并行工作进程数
TEST_PARALLEL_WORKERS=4

# 启用测试重试
ENABLE_TEST_RETRY=true

# 测试重试次数
TEST_RETRY_COUNT=3

# 启用测试报告
ENABLE_TEST_REPORT=true

# 测试报告路径
TEST_REPORT_PATH=./test-reports

# 启用测试性能分析
ENABLE_TEST_PERFORMANCE_ANALYSIS=true

# 测试性能分析路径
TEST_PERFORMANCE_ANALYSIS_PATH=./test-performance